:root {
    --bg-color: var(--tg-theme-bg-color, #fff);
    --text-color: var(--tg-theme-text-color, #000);
    --hint-color: var(--tg-theme-hint-color, #999);
    --btn-color: var(--tg-theme-button-color, #3390ec);
    --btn-text: var(--tg-theme-button-text-color, #fff);
    --secondary-bg: var(--tg-theme-secondary-bg-color, #f0f2f5);
    --separator-color: var(--tg-theme-section-separator-color, #e4e4e4);
}

body { 
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
    background-color: var(--bg-color); 
    color: var(--text-color); 
    margin: 0; 
    padding-bottom: 0;
    -webkit-tap-highlight-color: transparent;
}

/* ТАБЫ */
.tabs { 
    display: flex; position: sticky; top: 0; background: var(--bg-color); 
    z-index: 100; border-bottom: 1px solid var(--separator-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.02);
}
.tab { 
    flex: 1; padding: 14px; text-align: center; font-weight: 600; font-size: 15px;
    color: var(--hint-color); border-bottom: 3px solid transparent; cursor: pointer; transition: 0.2s;
}
.tab.active { color: var(--btn-color); border-bottom-color: var(--btn-color); }

/* КОНТЕНТ */
.content { display: none; padding: 0 16px; }
.content.active { display: block; animation: fadeIn 0.3s ease; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

.group-header { 
    font-size: 14px; font-weight: 700; margin: 24px 0 8px 0; 
    color: var(--hint-color); text-transform: uppercase; 
}

/* СПИСОК */
.item { display: flex; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--separator-color); cursor: pointer; }
.item:last-child { border-bottom: none; }
.item span { flex: 1; margin-left: 14px; font-size: 17px; line-height: 1.4; }

/* ЧЕКБОКС */
.checkbox-container { position: relative; width: 24px; height: 24px; flex-shrink: 0; }
input[type="checkbox"] { opacity: 0; width: 100%; height: 100%; position: absolute; z-index: 2; cursor: pointer; }
.checkmark { 
    position: absolute; top: 0; left: 0; height: 24px; width: 24px; 
    border: 2px solid var(--hint-color); border-radius: 6px; transition: 0.2s ease; box-sizing: border-box;
}
input:checked ~ .checkmark { background-color: var(--btn-color); border-color: var(--btn-color); }
.checkmark:after { 
    content: ""; position: absolute; display: none; left: 7px; top: 3px; 
    width: 6px; height: 11px; border: solid white; border-width: 0 2px 2px 0; transform: rotate(45deg); 
}
input:checked ~ .checkmark:after { display: block; }

/* ПОЛЕ КОММЕНТАРИЯ */
.section { margin-top: 30px; margin-bottom: 20px; }
h3 { font-size: 16px; margin-bottom: 10px; font-weight: 600; color: var(--text-color); }
textarea {
    width: 100%; background-color: var(--secondary-bg); border: 1px solid transparent;
    border-radius: 12px; padding: 12px; font-size: 16px; font-family: inherit; color: var(--text-color);
    box-sizing: border-box; resize: none; outline: none; -webkit-appearance: none;
}
textarea:focus { background-color: var(--bg-color); border-color: var(--btn-color); box-shadow: 0 0 0 4px rgba(51, 144, 236, 0.1); }
.spacer { height: 100px; } /* Место под кнопку */

/* ФУТЕР */
.footer { 
    position: fixed; bottom: 0; left: 0; right: 0; padding: 12px 16px 20px 16px; 
    background: var(--bg-color); border-top: 1px solid var(--separator-color); 
    box-shadow: 0 -4px 10px rgba(0,0,0,0.03); z-index: 200;
}
.main-btn { 
    width: 100%; padding: 14px; border: none; border-radius: 12px; 
    background-color: var(--btn-color); color: var(--btn-text); 
    font-size: 17px; font-weight: 600; cursor: pointer; 
}
.main-btn:active { opacity: 0.8; transform: scale(0.98); }